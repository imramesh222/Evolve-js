<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise</title>
</head>
<body>

    <script>
        const news = [
            {newsTitle:'First Title',newsContent:'This is my First News.'},
            {newsTitle:'Second Title',newsContent:'This is my Second News.'},
        ]

        const demofunction = () => {
            let result = ''
            news.forEach((post) => {
                result += `<li>${post.newsTitle}
                            <ul><li>${post.newsContent}</li></ul>
                    </li>`
            })
            document.write(result)
        }

        const showNews = () => {
            setTimeout(demofunction, 2000)
        }

        const addNews = (newsData) => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    news.push(newsData)
                    let error = false;
                    if (!error) {
                        resolve()
                    } else {
                        reject('Error: Unable to add news')
                    }
                }, 3000)
            })
        }

        addNews({newsTitle: 'Third News', newsContent: 'This is my third content'})
            .then(() => addNews({newsTitle: 'Fourth News', newsContent: 'This is my fourth content'}))
            .then(() => addNews({newsTitle: 'Fifth News', newsContent: 'This is my fifth content'}))
            .then(showNews)
            .catch((err) => document.write(err))
    </script>

</body>
</html>
